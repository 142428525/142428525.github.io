<!DOCTYPE html>
<html>
	<head>
		<link rel="icon" href="img/favicon.ico" />
		<link rel="shortcut icon" href="img/favicon.ico" /> 
		<link rel="apple-touch-icon" href="img/favicon.ico" />
		<link rel="apple-touch-icon-precomposed" href="img/favicon.ico" />
		<title>咕霸新闻网</title>
		<meta charset="utf-8"/>
		<link rel="stylesheet" type="text/css" href="../css/MGE_style.css">
	</head>
	<body>
		<div class="header">
			<img src="img/news.png" alt="the Logo of the Multiverse Goodbar News" width="512" height="128" />
		</div>
		<ul>
			<li><a href="index.html">主页</a></li>
			<li><a href="../MGE/index.html">百科</a></li>
			<li><a href="like.html">特辑</a></li>
			<li><a href="..">退回</a></li>
		</ul>
		
		<!-- main start -->
		
		<div style="width:40%;margin-left:30%;text-align:center;">	
			<h2>车万节日大全</h2>
			<div class="index">
				<p>
					1.<a class="text" href="#year">每年一度的节日</a>
					<br/>
					2.<a class="text" href="#month">每月一度的节日</a>
				</p>
			</div>
			<p>
				本页面内容转载自<a class="text" href="https://zh.moegirl.org.cn/东方角色日">萌娘百科</a>和Bilibili用户<a class="text" href="https://b23.tv/Op19jQn">@天Zz（UID：5003705）</a>的<a class="text" href="https://b23.tv/UOGLXyw">两篇</a><a class="text" href="https://b23.tv/d25xJjz">专栏</a>。
			</p>
			<p>查询请使用<code>Ctrl+F</code>。</p>
			<p id="top">（<a class="text" href="#end">点我跃迁到底部</a>）</p>
			<br/>
			<p id="festivals"></p>
			<p id="end">（<a class="text" href="#top">点我回到顶部</a>）</p>
		</div>
			
		<script>
			var xmlhttp = new XMLHttpRequest();
			xmlhttp.onreadystatechange = function() 
			{
				if (this.readyState == 4 && this.status == 200) 
				{
					var days = JSON.parse(this.responseText);
					var output_text = "<h3 id=\"year\">每年一度的节日</h3>";
					var flag;
					var temp;
					
					for(let j = 1; j <= 12; j++)
					{
						for(let k = 1; k <= 31; k++)
						{
							if((j==2 && (k==30 || k==31)) || (j==4 && k==31) || (j==6 && k==31) || (j==9 && k==31) || (j==11 && k==31))
							{
								;
							}
							else
							{
								flag = true;
								for(i in days.years)
								{
									temp = "";
									if((""+j+" "+k)==days.years[i].id)
									{
										flag = false;
										temp/*output_text*/ += "<b>" + days.years[i].date + "</b> ";
										temp/*output_text*/ += days.years[i].name + "<br/>";
										temp/*output_text*/ += days.years[i].ref + "<br/><br/>";
										output_text+=temp;
									}
								}
								if(temp==""&&flag == true)
								{
									output_text += "<b>" + j +"月" + k + "日</b> ";
									output_text += "平和的一天<br/>";
									output_text += "这天并没有节日呢。<br/><br/>";
									flag = false;
									console.log(temp=="");
								}
							}
						}
					}
					
					output_text += "<h3 id=\"month\">每月一度的节日</h3>";
					for(let bill = 1; bill <= 31; bill++)
					{
						for(baka in days.months)
						{
							if((""+bill)==days.months[baka].id)
							{
								output_text += "<b>" + days.months[baka].date + "</b> ";
								output_text += days.months[baka].name + "<br/>";
								output_text += days.months[baka].ref + "<br/><br/>";
							}
							else
							{
								//output_text += "<b>" + "每月" + j + "日</b> ";
								//output_text += "平和的一天<br/>";
								//output_text += "这天并没有节日呢。<br/><br/>";
								//break;
							}
						}
					}
					
					document.getElementById("festivals").innerHTML = output_text;
				}                                                    
			};                                                       
			xmlhttp.open("GET", "output.txt", true);
			xmlhttp.send();
		</script>
		
		<!-- main end -->
		
		<div class="footer">
			<p class="foot">本页面为转载内容。版权归原作者所有。</p>
		</div>
	</body>
</html>
